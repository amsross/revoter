language: node_js
node_js:
- '8.10'
install: npm install
cache:
  directories:
  - node_modules
script:
- npm test
deploy:
- provider: script
  skip_cleanup: true
  script: npm run deploy -- -v --stage dev
  on:
    branch: staging
- provider: script
  skip_cleanup: true
  script: npm run deploy -- -v --stage prod
  on:
    branch: master
env:
  global:
  - secure: VUK4PNwp11DCnXDmdsib698NmJMAp/2V8u0uxJeCzNOj/lvMifLFYrBOUFgrpe2wNrw71PEf6KwmCIJ1vbXWFjn+lyG1Cq0+bAaiG8f2iXnR0DobA9JRQsVEaJGRgk9Ubag9clvS4Bcxge+v5OR1DXt2s5e6W2+ELhWCYpm3+UQuW53ruqmTJOxqAshdyEXBDG3XE5W23MItsAceoH4aUgyHlPhvvLBNCUhuExjuc0k6m2oLniBffiPF/toaR+oTuPW4JHB9TW6Bx8+p5rkmxjFjzObTSP/GEUXldfgWbTXQFoVnj6CUF2yCBSvaeuf8hwKLO721k6aN8dPliJ+beDzPxpi3yxUKSPt9+7veCw/Phn2XzC5K6n4tOo/XupFlhxltlRVjD5JlpVlVpS0+nxeEKRXPcko5oIPWJcEtHuvFMRVQB7ZwL9688IpBoZ1Py5fyxp4NUZoXiGBps41XixfuTb4WUP8TiYSmoe74pq/CSI08rJrnCrGPMLS2F+nuBK4KkeVm5YbNT/Eo541+mUCXB22vH5/9JehSG7XpwMsiEb5znQE/qSDMuRD8eGEAbI3KmYntdlJyPfS0B8gBaJ0pK4WiaBUqOILlPNX77tmoRYe3p+MYP9vBeV5YCXy+u5CF8P6sykTo4SEcmBVGFjax2vuRH13KNL6ggyw5vek=
  - secure: cTKB7sNJY5FuC+4J0myCgf36e4M5s5aFkJ8rlZy40KSgQYb85CzndfKMqdspnlRr6iFFBRthfrpOdgmfq1vbONRR8vN0D1uGSxACE1scRcf+iVBkgG0L2SmG5ZMykbZOKGEmxrxzEvFof1owC+Zh0qA2hEGurB4o7+BMJZlQj/y/u+ogECfdeo7VuquVzU/1zN5fKB0fYG1n6AJeldprPd0egZmvLwTR+L6h0OZTBEM9zl0Z88OnrHXBsqWRuT67ynw4rO1gahlzcJwer17IVA0HVQP6d6WloC53pHqTU0r+FBQ3RRPtd3P4bC0l9Z+xJSmVc74I8SGeOeRRHDtswmlgqQspliB2o0f2g2nKrPjDKAd6trXZ56wyAONcbF/rS5YcRCr3HofoI/xrieTiaHsx5Bf3u93SzxDwEfAcrDRNLBnQhUzcxrjdtGQWVAxmKr1jx7KJJ0cfM1W8yyutcaUTmFndljNw4DmUOH28m12b1nNF6VyxVeibQ8MXnZ3/edH0RGPxwI7GI13V+v85ceJLbtzusf5TKig5N2TEbohDFahpgQSiEE3bTlVjH6GzTU3pmy9pxaw49Jt8vvhiZD4Q+h7qBy6oxIkqbShFFGKOnHawxieB68JG3w2omzqg9JAMM+VL2NGPo8+IvjNRlZ5vOr1QTv/+Yf7JYxXPHE0=
  - secure: u6TtVU8IKk5/WlWXGyXOcTpWcpgiaoU/TRBUhfxok+sQlJH7rMTds/v7BZvrZ5FUDhvjoNO5UwGWSluxOak64xx8O78v4Qr8GPJILULbEOgtOvvi9UF/P8q0sGT+sEgBNDxjnfaid/GS3+OLgFCLJ9gew/+0KD4kebLr9MiKAQfuTrzXqVppdv3KUnND7X+XwYMCB0VjrO4lYYyGz3YrzhQNVaEZNgUQO8x0JLSqLl0stPAU/7Ubz/Ho9W5vTEvPCqSZWA6IanHOwz1kzHq0tC73v25qZwmplZqrXtbmJmv5q7L0jKzBBq7QOdymdCpYiCooUU9c4+HaItgBM2ZQ/6IVqewbkJZyRSJTcMWLJ6E5jrCke0hDasSFLlGKeK9EONm8WABaP4Exb1tdJ91bXD+tWUV7uRpFjjIU48ZtAEifwbLxM0GZ54+ihde2QYjRTZU91nl+YpsQ4dG+BlwalRL+sO4JhzKfjvzdleLycAC9iN8W2SO/sAJwe46m4Y0GBWKRGkORDuu5PbRjpKIgpZ+6t9LSRh0mzgHq74si6tL9ka+VnYZxjSl/PayEUNEPwAEN5ifNc036ByORk0REatDJgG0gZFe2ZuFPgKHGPoZY0GR+15Mlrqnmsjv956RSQUntxMXAnOCrj+EuGaLtQ9L9ZhDC5ZfNsQ7vSyo4om8=
  - secure: zCWvY19EaiNSmGcS9SlkygexLd9NYe3C3PvCvtBNEt0OrrIQ60Jd/phZ2/PPr5FdbwRrl1wkAXknjSQeoMJBvlvVlMdziqDbaqyp0OMxMhPvBZSJvsJNcj/Kz3Q6xiErDDfcvtJN35UN4qO+jtqgx6mdtP0yaewsY4sKxY+pmVTSqkp9A1ynroW/RTW8SkeI+YyoviiresFZiNfNSVS01KdTHa237aUMUk4Y96u2K5JSmPfGcCYDAws45Mzk7HXIuUhnL4mB+FCB5LmGgIBcqGxpMDeHz22dwMh4KMhNOOIQF6f93AWayQau8CaFUmAoFvIZqOXHaOv3RB5Sex65QIMJcdyKMY7GJGiah+eszBc4wGAPA7Hlh5R8wrMLpQ5QioX1nwYVtjf1j/NBRL19+QUxDbDdHz03Zynp7NwQOkaEoxRwKCWXWupreFe4MeJ1ara/iJr8y7431qxoMi36H7U+8o3HaLmlE/9WK2j24n9TC4h+GKzEY5zUlTtIjIqxGrLhjizbl06Kny0Pzu1y07jdnVbCDOt5XcWCegjSjdZkypWd3W5Bh8w+dd7CIOZp/ghewrsEdvesQ4+scH7QQBQ6HKF9E3tyqWRe+mJ6TDwTmNVBYAbE0GSZmMBPcG3DYSq0XvugiW5zfE7q8EIchKnVm5c0JyCbhlCYN5DfRT8=
  - secure: K79VWeKgcFc9JGY5a2aFpkF7mWf88TX9mGxStKZCaHn6uBTz7bc8MpqMogNFLdAGeUFthpPm85tw+Bk6HuTMtdlM03/ZjQBtAQC4VoXotriarDzNztuTlnVJwPG5/fDKX4yZVPZ82MJN9LraQyk/Z8WvcqCj3JPZuy+sTvmQkuLlKIMCTNg/XjnGogIG5w/TqUMOzitvR/CwnUdzQaeWZKLSYq8ZXKCQY0tTwWUhITv0BwXGwl+/y/wgKjbjd28SwWSmX0b7CfwNImzzLdi1wVsey8DtEA2MzYZ8k7MsvOp64s6lZJMZPVkrySl9D06RCI3dDVMxpvkpT7gEf8LAWMOmE8VIofuV8ckR69j17w4xqbIXBUr7Gb7tepCntGBJWWV4U2F6taLhbzynkHY5Glyb790nDUblZYlAw7AV+mo/zEVJAZb5wVn/JwXAdq489JUo50axOgkGdlsAoUZ468iv+GKyoXPtrNTthX3eT78ygdrZQcS/VTV/EK0PvOV3XAuzbgR3V6JvoaEqaFPMvOur8qCesc28xy+4G/MORg8XUMAdnhAa3xhMhDb5EozrC0SglgIctUvEDgUf0WfmKTY2pirXW2huNQ+oZgWy4b5KszSRybQ8JWj43B6zcAI7B8coFQazYvQZ+RHmUjoLKaKsu5ZtCcxmccgDCE1C5g4=
